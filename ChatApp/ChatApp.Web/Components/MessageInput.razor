<div class="message-input">
     <div class="message-input__container">
          <div class="message-input__actions">
               <label class="inputfile-label" title="Attach file">
                    <span>üìé</span>
                    <InputFile OnChange="OnFileSelected" accept=".jpg,.jpeg,.png,.gif,.mp4,.pdf,.txt" class="inputfile-hidden" />
               </label>
               <button title="Emoji" class="message-input__action">
                    <span>üòä</span>
               </button>
          </div>
          <div class="message-input__field-container">
               <textarea @bind="@MessageText"
                         @bind:event="oninput"
                         @onkeydown="OnKeyDown"
                         @onkeyup="OnKeyUp"
                         placeholder="Type a message..."
                         class="message-input__field"
                         rows="1"
                         @ref="messageInput">
               </textarea>
          </div>

          <div class="message-input__actions">
               @if (selectedFile != null)
               {
                    <div class="selected-file">
                         <span>üìé @selectedFile.Name</span>
                         <button type="button" @onclick="ClearSelectedFile" class="clear-file-btn">√ó</button>
                    </div>
               }

               <button title="Send"
                       class="message-input__send"
                       @onclick="SendMessage"
                       disabled="@(string.IsNullOrWhiteSpace(MessageText?.Trim()) && selectedFile == null)">
                    <span>‚û°Ô∏è</span>
               </button>
          </div>
     </div>
     @if (!string.IsNullOrEmpty(fileValidationError))
     {
         <div class="file-validation-error">
             <span>@fileValidationError</span>
             <button @onclick="ClearFileValidationError" class="close-error-btn" title="Close">&times;</button>
         </div>
     }
</div>